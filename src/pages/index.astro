---
import { getCollection } from "astro:content";

import PageLayout from "../layouts/page-layout.astro";

const data = await getCollection("tombstones");
---

<PageLayout>
	<div class="px-5 py-3 sm:px-16 sm:py-10">
		<!-- <h1 class="self-center text-xl md:text-2xl py-4">Gallery</h1> -->

		<ul class="m-auto grid grid-cols-[repeat(auto-fill,minmax(270px,1fr))] gap-8">
			{
				data.map((entry) => {
					return (
						<li>
							<a href={`/rest-in-peace-service/tombstones/${entry.id}`}>
								<article class="rounded-md border-2 border-brand-gray bg-brand-light shadow-sm">
									<img
										alt=""
										class="h-40 w-full object-cover"
										src={`/rest-in-peace-service/${entry.data?.img}`}
									/>
									<h2 class="p-2 underline decoration-brand-gray-dark underline-offset-4 hover:bg-brand-gray">
										{entry.data.title_short}
									</h2>
								</article>
							</a>
						</li>
					);
				})
			}
		</ul>
	</div>
</PageLayout>
